<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Note on GDS File - Di Yu Homepage</title><meta name="Description" content="Di Yu&#39;s Homepage"><meta property="og:title" content="Note on GDS File" />
<meta property="og:description" content="PDF versionPlease refer to here for a PDF version of this note.Introduction GDSII is a database file format (filename extension .gds) which is used for storing and transferring design layout of integrated circuits. A GDS file contains a series of planar geometries, each of them is assigned with a layer index. These geometries define the shape of devices, and the corresponding layer indices specify the order in which these devices should be fabricated." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nagato-D.github.io/posts_content/note-gds/" /><meta property="article:section" content="posts_content" />
<meta property="article:published_time" content="2024-02-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-02-07T00:00:00+00:00" /><meta property="og:site_name" content="Di Yu&#39;s Homepage" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Note on GDS File"/>
<meta name="twitter:description" content="PDF versionPlease refer to here for a PDF version of this note.Introduction GDSII is a database file format (filename extension .gds) which is used for storing and transferring design layout of integrated circuits. A GDS file contains a series of planar geometries, each of them is assigned with a layer index. These geometries define the shape of devices, and the corresponding layer indices specify the order in which these devices should be fabricated."/>
<meta name="application-name" content="Di Yu&#39;s Homepage">
<meta name="apple-mobile-web-app-title" content="Di Yu&#39;s Homepage"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://nagato-D.github.io/posts_content/note-gds/" /><link rel="prev" href="https://nagato-D.github.io/posts_content/note-attention-mechanism/" /><link rel="next" href="https://nagato-D.github.io/posts_content/note-transformer/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Note on GDS File",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/nagato-D.github.io\/posts_content\/note-gds\/"
        },"genre": "posts_content","wordcount":  546 ,
        "url": "https:\/\/nagato-D.github.io\/posts_content\/note-gds\/","datePublished": "2024-02-07T00:00:00+00:00","dateModified": "2024-02-07T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Di Yu"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Di Yu Homepage">Di Yu&#39;s Homepage</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/publications/"> Publications </a><a class="menu-item" href="/patents/"> Patents </a><a class="menu-item" href="/favorites/"> Favorites </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Di Yu Homepage">Di Yu&#39;s Homepage</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/publications/" title="">Publications</a><a class="menu-item" href="/patents/" title="">Patents</a><a class="menu-item" href="/favorites/" title="">Favorites</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="page single special"><h1 class="single-title animate__animated animate__pulse animate__faster">Note on GDS File</h1><div class="content" id="content"><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<div class="details admonition note">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"></i>PDF version<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">Please refer to <a href="/posts/note-gds/Note_gds_file.pdf" rel="">here</a> for a PDF version of this note.</div>
        </div>
    </div>
<h2 id="introduction">Introduction</h2>
<hr>
<p><a href="https://en.wikipedia.org/wiki/GDSII" target="_blank" rel="noopener noreffer ">GDSII</a> is a database file format (filename extension <code>.gds</code>) which is used for storing and transferring design layout of integrated circuits. A GDS file contains a series of planar geometries, each of them is assigned with a layer index. These geometries define the shape of devices, and the corresponding layer indices specify the order in which these devices should be fabricated. The GDS format is widely used in nanofabrication, especially for optical lithography, where one needs to upload a gds file as input design file to a lithography system to obtain desired patterns on wafers. Therefore, it&rsquo;s important to learn about how to create, edit, and view a gds file, if one wants to engage in nanofabrication. This note will cover these topics, with a focus on the applications of gds files in integrated photonics.</p>
<h2 id="edit-and-view-gds-file">Edit and View <code>gds</code> File</h2>
<hr>
<p>There are several Python modules that support creating and editing GDS files, such as <a href="https://gdspy.readthedocs.io/en/stable/" target="_blank" rel="noopener noreffer "><code>gdspy</code></a> and <a href="https://picwriter.readthedocs.io/en/latest/" target="_blank" rel="noopener noreffer "><code>PICwriter</code></a>. The most commonly used module in our group is <code>gdspy</code>, which allows for the direct creation of common building blocks for photonic integrated circuits. To avoid version conflicts with other Python modules, it&rsquo;s recommended to install <code>gdspy</code> in an independent <a href="https://www.anaconda.com/download" target="_blank" rel="noopener noreffer "><code>Anaconda</code></a> environment. A tutorial on how to use <code>gdspy</code> can be found <a href="https://gdspy.readthedocs.io/en/stable/gettingstarted.html" target="_blank" rel="noopener noreffer ">here</a>.</p>
<p>GDS files are binary files that can only be interpreted by certain software. One widely used GDS file viewer is <a href="https://www.klayout.de/" target="_blank" rel="noopener noreffer "><code>KLayout</code></a>. It&rsquo;s important to note that <code>KLayout</code> can also be used to edit GDS files. In fact, <code>KLayout</code> supports two quite useful operations on GDS files: inter-layer boolean operations and layer property editing, which I will introduce below.</p>
<h2 id="boolean-operation-with-lydrc-script">Boolean Operation with <code>lydrc</code> Script</h2>
<hr>
<p><code>KLayout</code> supports boolean operations between different layers in a GDS file. The computation cost of boolean operations in <code>KLayout</code> is much lower than in <code>gdspy</code>, making it a favorable option. There are multiple ways to perform boolean operations in <code>KLayout</code>, and the easiest one is to write a <code>drc</code> (or <code>lydrc</code>) script in the <code>Macros - Macro Development - DRC</code> window.</p>
<p>The basic grammar of <code>lydrc</code> scripts is reasonably simple. For example, the following script loads all layers from <code>input.gds</code> and calculates the regions that are contained in the 2nd layer but not in the 1st or 3rd layer. The resulting pattern will be saved as a new GDS file named <code>output.gds</code>.</p>
<pre tabindex="0"><code>source(&#34;input.gds&#34;)
target(&#34;output.gds&#34;)

layer_output = (input(2, 0) - input(1, 0)) - input(3, 0)
layer_output.merged.output(100)
</code></pre><h2 id="save-and-load-layer-properties-with-lyp-script">Save and Load Layer Properties with <code>lyp</code> Script</h2>
<hr>
<p>You may notice that in a GDS file, each layer is assigned a number index. This layer indexing might not be ideal since it doesn&rsquo;t convey the function or material associated with these layers. In the initial user interface that displays the GDS pattern, you can rename these layers by right-clicking on the layer indices, choosing <code>rename</code>, and entering a new layer name.</p>
<p>It&rsquo;s important to note that the newly defined layer indexing will be lost unless you save the layer properties properly. To save the layer properties, go to <code>File - Save Layer Properties</code>. This will create a <code>lyp</code> script that contains the customized layer indexing. The customized layer indexing can be loaded into <code>KLayout</code> by simply dragging the <code>lyp</code> script into the <code>KLayout</code> window.</p>
</div></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.119.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2023 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
